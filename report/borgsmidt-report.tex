%!TEX TS-program = xelatex
%!TEX encoding = UTF-8 Unicode

\documentclass[
paper=a4,
oneside,
fontsize=11pt,
numbers=noenddot,
headinclude=false, % Count header as margin
footinclude=false, % Count footer as margin
%mpinclude=true, % Include this to leave space for margin notes
fleqn,             % Equations on left instead of center
DIV=8
]{scrartcl}

\usepackage[automark]{scrpage2}
\makeatletter\@ifclassloaded{scrreprt}{%
  \pagestyle{scrheadings}%
  \setlength{\marginparwidth}{7em}%
  \setlength{\marginparsep}{2em}%
}\makeatother

\addtolength{\textheight}{35mm}

\usepackage[usenames,dvipsnames]{xcolor} %use color with the command \textcolor{spot}{some text to
%with your color previously defined}
\definecolor{seccol}{rgb}{0.6,0,0}
\definecolor{spot}{rgb}{0.6,0,0}
\definecolor{boxfill}{rgb}{.96,.97,1}
\definecolor{halfgray}{gray}{0.55}
\definecolor{webgreen}{rgb}{0,.5,0}
\definecolor{royalblue}{cmyk}{0.8, 0.50, 0, 0}

% Graffiti as in GKP's book "Concrete Mathematics"
% thanks to Lorenzo Pantieri and Enrico Gregorio
\def\graffito@setup{%
   \textmpar\footnotesize\setstretch{1}%
   \parindent=0pt \lineskip=0pt \lineskiplimit=0pt %
   \tolerance=2000 \hyphenpenalty=300 \exhyphenpenalty=300%
   \doublehyphendemerits=100000%
   \finalhyphendemerits=\doublehyphendemerits}
%\DeclareRobustCommand{\graffito}[1]{\marginpar%
% [\graffito@setup\raggedleft\hspace{0pt}{#1}]%
% {\graffito@setup\raggedright\hspace{0pt}{#1}}}
\let\oldmarginpar\marginpar
\renewcommand{\marginpar}[1]{\oldmarginpar%
 [\graffito@setup\raggedleft\hspace{0pt}{#1}]%
 {\graffito@setup\raggedright\hspace{0pt}{#1}}}

\usepackage{polyglossia}
\setmainlanguage[variant=american]{english}
\usepackage{eukdate}   % International date format - Day Month Year

\usepackage{xspace} % Helps eliminate unwanted whitespace after TeX commands
\usepackage[numbers]{natbib}
\setcitestyle{aysep={}} % No comma between author and year
\usepackage[nottoc]{tocbibind}
 
\usepackage{url}
\usepackage{listings}
\usepackage{longtable}
\usepackage{booktabs}
\usepackage{tabularx} % better tables
\usepackage{textcomp}  % additional characters
\usepackage{braket}
\usepackage{amssymb}
\usepackage{amsmath}
\usepackage{mathtools}
\usepackage{graphicx}  % to include graphics
\usepackage{wrapfig}   % to get nice wrap of figures
\usepackage{placeins} % For \FloatBarrier to stop floats
\usepackage{titlesec}
\usepackage{textcase} % for \MakeTextUppercase 
\usepackage{mparhack} % get marginpar right
\usepackage{multicol}
\usepackage{xltxtra}
\usepackage{microtype}
\usepackage{setspace}
\setstretch{1.12} % Additional space between lines
\usepackage{relsize}
\usepackage[printonlyused,smaller]{acronym}
\newcommand{\acrofont}[1]{\textrm{\textmd{#1}}}
\renewcommand*{\acsfont}[1]{\textsmaller{\acrofont{#1}}}

% FONTSs & SECTION LAYOUT

\setmainfont[Scale=1.05, Mapping=tex-text, Numbers={Lining, Monospaced}]{Arno Pro}
\setmonofont[Scale=MatchLowercase]{Menlo}
\newfontfamily{\textmpar}[Mapping=tex-text, Numbers={OldStyle, Proportional}]{Arno Pro Italic SmText}
\newfontfamily{\regnum}[Mapping=tex-text, Numbers={Lining, Monospaced}]{Arno Pro}

% Must load eulervm after loading fonts
\usepackage[small]{eulervm}   % Use beautiful Euler maths (with main font number glyphs)

% Reset main font to old-style number after loading eulervm
\setmainfont[Scale=1.1, Mapping=tex-text, Numbers={OldStyle, Proportional}]{Arno Pro}


% Special characters
\newcommand{\oldamp}{\begingroup\addfontfeature{Alternate=2}\&\endgroup}

% Letterspacing
\usepackage{soul}
\sodef\allcapsspacing{\upshape}{0.15em}{0.65em}{0.6em}%
\sodef\lowsmallcapsspacing{\scshape}{0.075em}{0.5em}{0.6em}%
\DeclareRobustCommand{\spacedallcaps}[1]{\MakeTextUppercase{\allcapsspacing{#1}}}%   
\DeclareRobustCommand{\spacedlowsmallcaps}[1]{\MakeTextLowercase{\textsc{\lowsmallcapsspacing{#1}}}}%

% Table commands
\newcommand{\tableheadline}[1]{\multicolumn{1}{c}{\spacedlowsmallcaps{#1}}}

% ********************************************************************                
% headlines
% ********************************************************************
\makeatletter\@ifclassloaded{scrreprt}{%
\clearscrheadings
\setheadsepline{0pt}
\renewcommand{\sectionmark}[1]{\markright{\thesection\enspace\spacedlowsmallcaps{#1}}} 
\lehead{\mbox{\llap{\small\thepage\kern2em}\headmark\hfil}}
\rohead{\mbox{\hfil{\headmark}\rlap{\small\kern2em\thepage}}}
\renewcommand{\headfont}{\small}
}\makeatother

\makeatletter\@ifclassloaded{scrartcl}{%
  \def\toc@heading{%
    \section*{\contentsname}%
    \@mkboth{\spacedlowsmallcaps{\contentsname}}{\spacedlowsmallcaps{\contentsname}}}
}\makeatother
  
% %*********************************************************
% Sectioning
% %*********************************************************

\makeatletter\@ifclassloaded{scrartcl}{%
% Article sections \FloatBarrier
  \titleformat{\section}
    {\relax}{\large\textsc{\MakeTextLowercase{\thesection}}}{1em}{\large\spacedlowsmallcaps}
% subsections
\titleformat{\subsection}
  {\relax}{\textsc{\MakeTextLowercase{\thesubsection}}}{1em}{\normalsize\itshape}        
}\makeatother

% subsubsections
\titleformat{\subsubsection}
  {\relax}{\textsc{\MakeTextLowercase{\thesubsubsection}}}{1em}{\normalsize\itshape}        
% paragraphs
\titleformat{\paragraph}[runin]
  {\normalfont\normalsize}{\theparagraph}{0pt}{\spacedlowsmallcaps}    
% descriptionlabels
\renewcommand{\descriptionlabel}[1]{\hspace*{\labelsep}\spacedlowsmallcaps{#1}}

\titlespacing*{\section}{0pt}{1.25\baselineskip}{1\baselineskip} 
\titlespacing*{\subsection}{0pt}{1.25\baselineskip}{1\baselineskip}
\titlespacing*{\paragraph}{0pt}{1\baselineskip}{1\baselineskip}

% ********************************************************************
% footnotes setup   
% ********************************************************************
%\RequirePackage{footmisc}  % [bottom] norule para symbol* marginal perpage
    % KOMA-command, footnotemark not superscripted at the bottom
    \deffootnote{0em}{0em}{\thefootnotemark\hspace*{.5em}}      

% ********************************************************************                
% layout of the TOC, LOF and LOT (LOL-workaround see next section)
% ********************************************************************
\usepackage[titles]{tocloft}
% avoid page numbers being right-aligned in fixed-size box              
\newlength{\newnumberwidth}
\settowidth{\newnumberwidth}{999} % yields overfull hbox warnings for pages > 999
\cftsetpnumwidth{\newnumberwidth}

\newcounter{dummy} % necessary for correct hyperlinks (to index, bib, etc.)
    
% have the bib neatly positioned after the rest
\newlength{\beforebibskip}  
\setlength{\beforebibskip}{0em}
    
% space for more than nine chapters
\newlength{\newchnumberwidth}
\settowidth{\newchnumberwidth}{.} % <--- tweak here if more space required
%  \addtolength{\cftchapnumwidth}{\newchnumberwidth}%
  \addtolength{\cftsecnumwidth}{\newchnumberwidth}
  \addtolength{\cftsecindent}{\newchnumberwidth}
  \addtolength{\cftsubsecnumwidth}{\newchnumberwidth}
  \addtolength{\cftsubsecindent}{2\newchnumberwidth}
  \addtolength{\cftsubsubsecnumwidth}{\newchnumberwidth}
	  
  % % chapters
  % \renewcommand{\cftchappresnum}{\scshape\MakeTextLowercase}%
  % \renewcommand{\cftchapfont}{\scshape}%
  % \renewcommand{\cftchappagefont}{\normalfont}%
  % \renewcommand{\cftchapleader}{\hspace{1.5em}}% 
  % \renewcommand{\cftchapafterpnum}{\cftparfillskip}% 

  % sections
  \renewcommand{\cftsecpresnum}{\small\scshape\MakeTextLowercase}%
  \renewcommand{\cftsecfont}{\small\scshape\MakeTextLowercase}%
  \renewcommand{\cftsecpagefont}{\normalfont}%
  \renewcommand{\cftsecleader}{\hspace{1.5em}}% 
  \renewcommand{\cftsecafterpnum}{\cftparfillskip}%
  %\ifthenelse{\boolean{@tocaligned}}{\renewcommand{\cftsecindent}{0em}}{\relax}

  % subsections
  \renewcommand{\cftsubsecpresnum}{\scshape\MakeTextLowercase}%
  \renewcommand{\cftsubsecfont}{\normalfont}%
  \renewcommand{\cftsubsecleader}{\hspace{1.5em}}% 
  \renewcommand{\cftsubsecafterpnum}{\cftparfillskip}%   
  %\ifthenelse{\boolean{@tocaligned}}{\renewcommand{\cftsubsecindent}{0em}}{\relax}

  % subsubsections
  \renewcommand{\cftsubsubsecpresnum}{\scshape\MakeTextLowercase}%
  \renewcommand{\cftsubsubsecfont}{\normalfont}%
  \renewcommand{\cftsubsubsecleader}{\hspace{1.5em}}% 
  \renewcommand{\cftsubsubsecafterpnum}{\cftparfillskip}%   
  %\ifthenelse{\boolean{@tocaligned}}{\renewcommand{\cftsubsubsecindent}{0em}}{\relax}

  % figures     
  \renewcommand{\cftfigpresnum}{\scshape\MakeTextLowercase}% 
  \renewcommand{\cftfigfont}{\normalfont}%                 
  \renewcommand{\cftfigleader}{\hspace{1.5em}}% 
  \renewcommand{\cftfigafterpnum}{\cftparfillskip}%
  \renewcommand{\cftfigpresnum}{}% Don't prefix with 'Figure'
  \newlength{\figurelabelwidth}
  \settowidth{\figurelabelwidth}{\cftfigpresnum~9.9}
  \addtolength{\figurelabelwidth}{1.2em}
  \cftsetindents{figure}{0em}{\figurelabelwidth}
  \gappto\captionsenglish{\renewcommand{\listfigurename}{Figures}}

  % tables
  \renewcommand{\cfttabpresnum}{\scshape\MakeTextLowercase}%
  \renewcommand{\cfttabfont}{\normalfont}%
  \renewcommand{\cfttableader}{\hspace{1.5em}}% 
  \renewcommand{\cfttabafterpnum}{\cftparfillskip}%   
  \renewcommand{\cfttabpresnum}{}% Don't prefix with 'Table'
  %\newlength{\tablelabelwidth}
  %\settowidth{\tablelabelwidth}{\cfttabpresnum~99}
  %\addtolength{\tablelabelwidth}{2.5em}
  % \cftsetindents{table}{0em}{\tablelabelwidth}
  \cftsetindents{table}{0em}{\figurelabelwidth}
%  \gappto\captionsenglish{\renewcommand{\tablename}{Definition}}
%  \gappto\captionsenglish{\renewcommand{\listtablename}{Definitions}}

  % listings
  \newlistof{listings}{lol}{\lstlistlistingname}%
  \renewcommand{\cftlistingspresnum}{\scshape\MakeTextLowercase}%
  \renewcommand{\cftlistingsfont}{\normalfont}%
  \renewcommand{\cftlistingspresnum}{}% Don't prefix with 'Listing'
  \renewcommand{\cftlistingspagefont}{\normalfont}%
  \renewcommand{\cftlistingsleader}{\hspace{1.5em}}%
  \renewcommand{\cftlistingsafterpnum}{\cftparfillskip}%
  %\newlength{\listingslabelwidth}%
  %\settowidth{\listingslabelwidth}{\cftlistingspresnum~99}%
  %\addtolength{\listingslabelwidth}{}%
  % \cftsetindents{listings}{0em}{\listingslabelwidth}%
  \cftsetindents{listings}{0em}{\figurelabelwidth}
  \makeatletter%
  \let\l@lstlisting\l@listings%
  \let\lstlistoflistings\listoflistings%
  \makeatother
  % \renewcommand\lstlistingname{Example}
  % \renewcommand\lstlistlistingname{Examples}
  % \def\lstlistingautorefname{Example}

  % dirty work-around to get the spacing after the toc/lot/lof-titles right    
  \AtBeginDocument{\addtocontents{toc}{\protect\vspace{-1em}}}

  \newcommand{\tocEntry}[1]{% for bib, etc.
    \spacedlowsmallcaps{#1}
  }

% %    % remove the vertical space between lof/lot entries of different chapters
% 		\ifthenelse{\boolean{@listsseparated}}{%
% 		 \PackageWarningNoLine{classicthesis}{Option "listsseparated" deprecated as of version 2.9.}%
% 		}{\relax}
% %    \ifthenelse{\boolean{@listsseparated}}{%
% %        \AtBeginDocument{%
% %            \addtocontents{lof}{\protect\vspace{-\cftbeforechapskip}}%
% %            \addtocontents{lot}{\protect\vspace{-\cftbeforechapskip}}%
% %            \ifthenelse{\boolean{@listings}}%        
% %    				{%
% %             	\addtocontents{lol}{\protect\vspace{-\cftbeforechapskip}}%
% %            }{\relax}%
% %        }%
% %    }{%
%         \DeclareRobustCommand*{\deactivateaddvspace}{\let\addvspace\@gobble}% 
%         \AtBeginDocument{%      
%             \addtocontents{lof}{\deactivateaddvspace}% 
%             \addtocontents{lot}{\deactivateaddvspace}%
%     				\ifthenelse{\boolean{@listings}}% 
%     				{%
%              	\addtocontents{lol}{\deactivateaddvspace}%
%             }{\relax}%                  
%         }%
% %    } 
   
% ********************************************************************
% Hyperreferences setup
%*******************************************************
\usepackage{hyperref}
\hypersetup{%
    colorlinks=true, linktocpage=true, pdfstartpage=3, pdfstartview=FitV,%
    % uncomment the following line if you want to have black links (e.g., for printing)
    %colorlinks=false, linktocpage=false, pdfborder={0 0 0}, pdfstartpage=3, pdfstartview=FitV,% 
    breaklinks=true, pdfpagemode=UseNone, pageanchor=true, pdfpagemode=UseOutlines,%
    plainpages=false, bookmarksnumbered, bookmarksopen=true, bookmarksopenlevel=1,%
    hypertexnames=true, pdfhighlight=/O,%hyperfootnotes=true,%nesting=true,%frenchlinks,%
    urlcolor=RoyalBlue, linkcolor=spot, citecolor=spot, %pagecolor=RoyalBlue,%
    %urlcolor=Black, linkcolor=Black, citecolor=Black, %pagecolor=Black,%
    pdftitle={Advanced Programming 2013 Exam Report},%the title
    pdfauthor={Rasmus Borgsmidt},%your name
    pdfsubject={},%
    pdfkeywords={},%
    pdfcreator={XeLaTeX},%
    pdfproducer={XeLaTeX}%
}

% ******************************************************
% Listings setup
%*******************************************************
\lstset{
  basicstyle=\ttfamily\small,
  commentstyle=\color{webgreen}\ttfamily,
  numbers=left,
  numberstyle=\ttfamily\scriptsize,
  numbersep=8pt,
  showstringspaces=false,
  breaklines=true,
  backgroundcolor=\color{boxfill},
  frame=tb,
  framerule=\heavyrulewidth, % defined in the booktabs package
  belowcaptionskip=.75\baselineskip
}

% Get single spacing in listings
\let\oldlst\lstlisting
\def\lstlisting{\par\setstretch{0.8}\oldlst}
\let\oldlstin\lstinputlisting
\def\lstinputlisting{\par\setstretch{0.8}\oldlstin}

% Use regular - instead of dash in listings
\makeatletter
\lst@CCPutMacro\lst@ProcessOther {"2D}{\lst@ttfamily{-{}}{-{}}}
\@empty\z@\@empty
\makeatother


% Disable single lines at the start of a paragraph (Schusterjungen)
\clubpenalty = 10000
% Disable single lines at the end of a paragraph (Hurenkinder)
\widowpenalty = 10000 
\displaywidowpenalty = 10000 % formulas


\begin{document}

\title{\textcolor{spot}{\rmfamily\mdseries\spacedlowsmallcaps{Exam Report}}}
\subtitle{\rmfamily\mdseries\itshape\normalsize{Advanced Programming 2013}}
\author{\large Rasmus Borgsmidt}
\date{}
\vspace{-30pt}\maketitle
\pdfbookmark[1]{\contentsname}{tableofcontents}
\setcounter{tocdepth}{2} % <-- 2 includes up to subsections in the ToC
\manualmark
\vspace{-30pt}\tableofcontents
%\vspace{30pt}

\addcontentsline{toc}{section}{\lstlistlistingname}
\lstlistoflistings

%\addcontentsline{toc}{section}{Tables}
\listoftables

\fontdimen2\font=1.25\fontdimen2\font% interword space
\fontdimen3\font=1.25\fontdimen3\font% interword stretch
\fontdimen4\font=\fontdimen4\font% interword shrink

\clearpage
\section*{Introduction}
\addcontentsline{toc}{section}{Introduction}

This report is part of an answer to the take-home exam of the course {\em
  Advanced Programming 2013} held at University of Copenhagen, Department of
Computer Science (\textsmaller{DIKU}).

The intended reader is expected to have knowledge of general computer
science topics equivalent to a third-year undergraduate student; and in addition
to have followed this course.

The answer to this exam is submitted electronically, and this report is
submitted alongside a file archive called {\tt src.zip}; the contents of this
archive is specified in listing \ref{lst:filetree}.

\section{Salsa Language Parser}

In this question, we are asked to implement a parser of the {\scshape Salsa}
source language, constructing an \ac{AST} in accordance with the data types
specified in listing \ref{lst:ast}. The parser must be constructed using one of
three available parser libraries, and I have chosen to use {\tt SimpleParse}
because it is simple and does what we need (listing \ref{lst:sp}).

\subsection{Grammar Transformations}

The supplied grammar is both ambiguous and left-recursive. But for this
grammar\footnote{Not every grammar has an equivalent \acs{LL1} grammar} it is
possible to construct an equivalent \acs{LL1} grammar using the techniques
outlined by \citet[p.~69]{mogensen2011}:
\begin{enumerate}
\item Eliminate ambiguity
\item Eliminate left-recursion
\item Perform left-factorization where required
\end{enumerate}
There is a number of benefits in doing this. First and foremost, an \acs{LL1}
grammar makes it a near-mechanical process to construct a parser using {\tt
  SimpleParse} and this makes it a good choice for emphasizing correctness. The
parser can be improved for brevity and efficiency later, fx.\ using constructs
like {\tt many1} and by combining several of the smaller parsers to minimize
code repetition. Secondly as can be seen from table \ref{grammar}, the resulting
grammar makes it explicit that {\tt '@'} has higher precedence than {\tt
  '||'}. In other words, it makes it impossible to derive the wrong parse tree
from a given input.

As an aside on left-factorization, {\em where required} in item 3 above alludes
to the fact that it is only necessary to change the grammar in this respect
where {\em a single nonterminal} has several productions beginning with the same
sequence of symbols. It is therefore not a problem that both {\em Pos} and {\em
  Prim} have a production beginning with {\tt '('}.

The associativity of {\tt '||'} was not specified by the original grammar, but I
have chosen it to be left-associative since that seems most logical and is
symmetric to the associativity of {\tt '@'}. The associavity of {\tt '||'} has
no impact on the generated output anyway. {\tt '+'} and {\tt '-'} are assumed to
have equal precedence.

The constructed parser in {\tt SalsaParser.hs} is shown in listing \ref{lst:sp}.
\begin{table}[h]
  \centering\regnum
  \caption{{\regnum LL(1)} {\scshape Salsa} Grammar}\label{grammar}
  \begin{tabularx}{\textwidth}{rcX} \toprule
    {\em Program}    & $::=$ & {\em DefComs}\\
    {\em DefComs}    & $::=$ & {\em DefCom} {\em DefComs$_{*}$}\\
    {\em DefComs$_{*}$}   & $::=$ & {\em DefCom} {\em DefComs$_{*}$}\\
               & $|$   & $\epsilon$\\
    {\em DefCom}     & $::=$ & {\em Command}\\
               & $|$   & {\em Definition}\\
    {\em Definition} & $::=$ & {\tt 'viewdef'} {\em VIdent} {\em Expr} {\em Expr}\\
               & $|$   & {\tt 'rectangle'} {\em SIdent} {\em Expr} {\em Expr} {\em Expr} {\em Expr} {\em Colour}\\
               & $|$   & {\tt 'circle'} {\em SIdent} {\em Expr} {\em Expr} {\em Expr} {\em Colour}\\
               & $|$   & {\tt 'view'} {\em VIdent}\\
               & $|$   & {\tt 'group'} {\em VIdent} {\tt '['} {\em VIdents} {\tt ']'}\\
    {\em Command}    & $::=$ & {\em Command1} {\em Command$_{*}$}\\
    {\em Command$_{*}$}    & $::=$ & {\tt '||'} {\em Command1} {\em Command$_{*}$}\\
               & $|$ & $\epsilon$ \\
    {\em Command1}    & $::=$ & {\em Command2} {\em Command1$_{*}$}\\
    {\em Command1$_{*}$}    & $::=$ & {\tt '@'} {\em VIdent} {\em Command1$_{*}$}\\
               & $|$ & $\epsilon$ \\
    {\em Command2}    & $::=$ & {\em SIdents} {\tt '->'} {\em Pos}\\
               & $|$   & {\tt '\{'} {\em Command} {\tt '\}'}\\

    {\em VIdents}    & $::=$ & {\em VIdent} {\em VIdents$_{*}$}\\
    {\em VIdents$_{*}$}    & $::=$ & {\em VIdent} {\em VIdents$_{*}$}\\
               & $|$   & $\epsilon$\\
    {\em SIdents}    & $::=$ & {\em SIdent} {\em SIdents$_{*}$}\\
    {\em SIdents$_{*}$}    & $::=$ & {\em SIdent} {\em SIdents$_{*}$}\\
               & $|$   & $\epsilon$\\
    {\em Pos}        & $::=$ & {\tt '('} {\em Expr} {\tt ','} {\em Expr} {\tt ')'}\\
               & $|$   & {\tt '+'} {\tt '('} {\em Expr} {\tt ','} {\em Expr} {\tt ')'}\\
    {\em Expr}       & $::=$ & {\em Prim} {\em Expr$_{*}$}\\
    {\em Expr$_{*}$}       & $::=$ & {\tt '+'} {\em Prim} {\em Expr$_{*}$}\\
               & $|$   & {\tt '-'} {\em Prim} {\em Expr$_{*}$}\\
               & $|$   & $\epsilon$\\
    {\em Prim}       & $::=$ & {\em integer}\\
               & $|$   & {\em SIdent} {\tt '.'} {\em Coord}\\
               & $|$   & {\tt '('} {\em Expr} {\tt ')'}\\
    {\em Coord}       & $::=$ & {\tt 'x'} $|$ {\tt 'y'}\\
    {\em Colour}     & $::=$ & {\tt 'blue'} $|$ {\tt 'plum'} $|$ {\tt 'red'} $|$ {\tt 'green'} $|$ {\tt 'orange'}\\
    \bottomrule
  \end{tabularx}
\end{table}

\subsection{Testing}
\label{sec:testing}

I wanted to come up with a set of {\em automated tests}\footnote{automated test:
  test that breaks automatically if there is a problem and requires no manual
  supervision} that exercise the various parts of the grammar separately without
having to expose additional functions from the module. The resulting test suite
is shown in listing \ref{lst:spt} and the session output is shown in listing
\ref{lst:testoutparser}.

\subsection{Assessment}
\label{sec:assessment}

I believe this is a complete and correct solution to question 1, and I have a
high degree of confidence in the code. I base this assessment on the fact that
I was able to obtain an equivalent \acs{LL1} grammar, which makes it
straightforward to construct a parser, and that I have a reliable test suite to
exercise the parser.

Furthermore, {\tt ghc -Wall} compiles the code without any warnings.

\clearpage
\section{Salsa Language Interpreter}

A context comprises an environment and a state; the environment specifies views,
shapes and other definitions, the state specifies the position of each shape on
the views. In that sense, a given state specifies a {\em key frame} and the
transition from each key frame to the next is specified by the difference
between one state and the next.

Apart from possible implications on ordering of graphics instructions, will it
impact the resulting Animation if our interpreter executes concurrent commands
in parallel or sequentially?

I don't think so, given the 

If views are defined later in the animation, they just stay blank until
something happens on them.

Comment on the point of the separate SalsaCommand monad, perhaps to make it
clear that commands cannot impact the environment.

SalsaCommand is responsible for generating frames -- why else would the frame
rate be required in the context?

Explain why this is the case (concurrent execution - other reasons?):
{- NOTE: Two sequenced SalsaCommands are deliberately executed in the same context,
 - the state is not updated before the second execution -}

Unnecessary to nest environment inside context -- as long as commands can only
amend state.

In a blank context, there should be a blank frame from the outset. Explain how
the frames (and frame sets) are manipulated.  Why are we using frame sets?

I feel that adding a new shape onto the frame should also be a SalsaCommand
(explain why it is not)

Talk about not using more monads -- eval is too simple

-- When talking about this type, point out that no error handling is necessary
-- This type reflects that running a command cannot update the environment,
-- just the state
-- The type captures the effect of a command in a given context
newtype SalsaCommand a = SalsaCommand { runSC :: Context -> (a, State) }

\section{Atomic Transaction Server}

Why have I chosen to use OTP?
Talk about time outs and client-provided query functions

Using a waiting list of clients is safe because query\_t is blocking so each
client can appear at most once in the list

clients can build a timeout into the query and update functions

Copy in text from test file

theoretic problem in choiceUpdate with many processes if choiceUpdate is still
creating new processes while the first has already completed.

From the exam text:

"[...] the result of choiceUpdate is the result of this commit."

In a strict sense, the "result of this commit" 

The direct return value of 

\section{Conclusion}


\bibliographystyle{plainnat}
\bibliography{borgsmidt-report}

\addcontentsline{toc}{section}{Acronyms}
\section*{Acronyms}
\begin{acronym}[DRY]
  \acro{AST}[\acrofont{AST}]{Abstract Syntax Tree}
  \acro{LL1}[\acrofont{{\regnum LL(1)}}]{Left-to-Right, Left-order, $1$-symbol Look-ahead}
\end{acronym}

\appendix

\newcommand{\shcodefile}[2]{%
\lstinputlisting[basicstyle=\ttfamily\footnotesize, language={},%
  caption={\tt #1}, label=lst:#2]{../#1}}

\clearpage
\section{Question 1 Code Files}
\label{sec:question-1-code}

\subsection{Source Code}
\label{sec:source-code}

\shcodefile{src/salsa/SalsaParser.hs}{sphs}

\subsection{Test Code}
\label{sec:test-code}

\shcodefile{src/salsa/SalsaParserTest.hs}{spt}

\subsection{Test Output}
\label{sec:test-output}

\begin{lstlisting}[caption=Session output: {\tt src/salsa/SalsaParserTest}, label=lst:testoutparser]
*** Checking Colour ***
pass: circle c 0 0 0 blue
pass: circle c 0 0 0 plum
pass: circle c 0 0 0 red
pass: circle c 0 0 0 green
pass: circle c 0 0 0 orange
error (expected): circle c 0 0 0 violet
error (expected): circle c 0 0 0 greeen
error (expected): circle c 0 0 0 Blue
error (expected): circle c 0 0 0 blue1

*** Checking Prim ***
pass: a -> (0, 0)
pass: a -> (42, 42)
pass: a -> (999999999, 999999999)
pass: a -> ((((42))), (((42))))
pass: a -> (john . x, john . x)
pass: a -> (john . y, john . y)
error (expected): a -> (-5, -5)
error (expected): a -> (-5, -5)
error (expected): a -> (42.2, 42.2)
error (expected): a -> (.8, .8)

*** Checking Expr ***
pass: a -> (1 + 2, 1 + 2)
pass: a -> (1 - 2, 1 - 2)
pass: a -> (1 + 2 + 3, 1 + 2 + 3)
pass: a -> (1 - 2 - 3, 1 - 2 - 3)
pass: a -> (1 + 2 - 3, 1 + 2 - 3)
pass: a -> (1 - 2 + 3, 1 - 2 + 3)

*** Checking Pos ***
pass: a -> (0, 0)
pass: a -> + (0, 0)

*** Checking SIdents ***
pass: a -> (0, 0)
pass: aBC -> (0, 0)
pass: a12T -> (0, 0)
pass: aa bb cc -> (0, 0)
error (expected): 1abc -> (0, 0)
error (expected): Abc -> (0, 0)
error (expected): _abc -> (0, 0)
error (expected): _ -> (0, 0)
error (expected): viewdef -> (0, 0)
error (expected): rectangle -> (0, 0)
error (expected): circle -> (0, 0)
error (expected): view -> (0, 0)
error (expected): group -> (0, 0)
error (expected): blue -> (0, 0)
error (expected): plum -> (0, 0)
error (expected): red -> (0, 0)
error (expected): green -> (0, 0)
error (expected): orange -> (0, 0)

*** Checking VIdents ***
pass: group V [A]
pass: group V [Abc]
pass: group V [A12t]
pass: group V [AA BB CC]
error (expected): group V [1Abc]
error (expected): group V [aBC]
error (expected): group V [_ABC]
error (expected): group V [_]

*** Checking Command ***
pass: a->(0, 0)
pass: a->(0, 0)@V
pass: a->(0, 0)@V@W
pass: a->(0, 0)||b->(0, 0)
pass: a->(0, 0)||b->(0, 0)||c->(0,0)
pass: a->(0, 0)||b->(0, 0)@V
pass: {a->(0, 0)||b->(0, 0)}@V
pass: {{{a->(0, 0)}}}

*** Checking Definition ***
pass: viewdef V 0 0
pass: rectangle r 0 0 0 0 blue
pass: circle c 0 0 0 blue
pass: view V
pass: group G [X Y Z]
error (expected): view1 V

*** Checking Program ***
error (expected): <empty string>
pass: viewdef Default 400 400
rectangle box 10 400 20 20 green
box -> (10, 200)
box -> +(100, 0)
box -> (110,400)
box -> +(0-100, 0)

pass: viewdef One 500 500
viewdef Two 400 400
group Both [One Two]
view Both
rectangle larry 10 350 20 20 blue
rectangle fawn 300 350 15 25 plum

view Two
larry -> (300, 350) || fawn -> (10,350)

view Both
larry fawn -> +(0, 0 - 300)

*** Checking parseFile ***
pass: viewdef One 500 500
viewdef Two 400 400
group Both [One Two]
view Both
rectangle larry 10 350 20 20 blue
rectangle fawn 300 350 15 25 plum

view Two
larry -> (300, 350) || fawn -> (10,350)

view Both
larry fawn -> +(0, 0 - 300)

*** All tests completed successfully ***
\end{lstlisting}


\subsection{Used Hand-outs}
\label{sec:hand-outs-used}

\shcodefile{src/salsa/SalsaAst.hs}{ast}
\shcodefile{src/salsa/SimpleParse.hs}{sp}

\subsection{Sample Files}
\label{sec:sample-files}

\shcodefile{src/salsa/simple.salsa}{simple}

\shcodefile{src/salsa/multi.salsa}{multi}


\clearpage
\section{Question 2 Code Files}
\label{sec:question-2-code}

\subsection{Source Code}
\label{sec:source-2-code}

\shcodefile{src/salsa/SalsaInterp.hs}{si}

\subsection{Test Output}
\label{sec:test-2-output}

\begin{lstlisting}[caption=Test output for manual interpreter testing (pretty printed), label=lst:testoutinterp]
--
-- Interpolate tests
--

   interpolate 1 (0,0) (100,100)
=> [(100,100)]

   interpolate 2 (0,0) (100,100)
=> [(50,50),(100,100)]

   interpolate 5 (0,0) (100,100)
=> [(20,20),(40,40),(60,60),(80,80),(100,100)]


--
-- Testing empty input
--

   runProg 1 []
=> ([],[[]])

   runProg 10 []
=> ([],[[]])


--
-- Testing generation of key frames by using framerate 1
--

   runProg 1 [ Def (Viewdef "Default" (Const 400) (Const 400)),
               Def (Rectangle "box" (Const 10) (Const 400) (Const 20)
                       (Const 20) Green),
               Com (Move ["box"] (Abs (Const 10) (Const 200))),
               Com (Move ["box"] (Rel (Const 100) (Const 0))),
               Com (Move ["box"] (Abs (Const 110) (Const 400))),
               Com (Move ["box"] (Rel (Minus (Const 0) (Const 100)) (Const 0))) ]
=> ([("Default",400,400)],
    [[DrawRect 10 400 20 20 "Default" "green"],
     [DrawRect 10 200 20 20 "Default" "green"],
     [DrawRect 110 200 20 20 "Default" "green"],
     [DrawRect 110 400 20 20 "Default" "green"],
     [DrawRect 10 400 20 20 "Default" "green"]])

   runProg 1 [ Def (Viewdef "One" (Const 500) (Const 500)),
               Def (Viewdef "Two" (Const 400) (Const 400)),
               Def (Group "Both" ["One","Two"]),
               Def (View "Both"),
               Def (Rectangle "larry" (Const 10) (Const 350) (Const 20)
                       (Const 20) Blue),
               Def (Rectangle "fawn" (Const 300) (Const 350) (Const 15)
                       (Const 25) Plum),
               Def (View "Two") ,
               Com (Par (Move ["larry"] (Abs (Const 300) (Const 350)))
                       (Move ["fawn"] (Abs (Const 10) (Const 350)))),
               Def (View "Both"),
               Com (Move ["larry","fawn"]
                       (Rel (Const 0) (Minus (Const 0) (Const 300)))) ]
=> ([("One",500,500),("Two",400,400)],
    [[DrawRect 300 350 15 25 "One" "plum",
      DrawRect 300 350 15 25 "Two" "plum",
      DrawRect 10 350 20 20 "One" "blue",
      DrawRect 10 350 20 20 "Two" "blue"],

     [DrawRect 10 350 15 25 "Two" "plum",
      DrawRect 300 350 15 25 "One" "plum",
      DrawRect 300 350 20 20 "Two" "blue",
      DrawRect 10 350 20 20 "One" "blue"],

     [DrawRect 300 50 20 20 "Two" "blue",
      DrawRect 10 50 20 20 "One" "blue",
      DrawRect 10 50 15 25 "Two" "plum",
      DrawRect 300 50 15 25 "One" "plum"]])


--
-- Testing full operation with a higher framerate that requires intermediate
-- frames (highlighted with extra indentation)
--

   runProg 3 [ Def (Viewdef "One" (Const 500) (Const 500)),
               Def (Viewdef "Two" (Const 400) (Const 400)),
               Def (Group "Both" ["One","Two"]),
               Def (View "Both"),
               Def (Rectangle "larry" (Const 10) (Const 350) (Const 20)
                       (Const 20) Blue),
               Def (Rectangle "fawn" (Const 300) (Const 350) (Const 15)
                       (Const 25) Plum),
               Def (View "Two") ,
               Com (Par (Move ["larry"] (Abs (Const 300) (Const 350)))
                        (Move ["fawn"] (Abs (Const 10) (Const 350)))),
               Def (View "Both"),
               Com (Move ["larry","fawn"]
                       (Rel (Const 0) (Minus (Const 0) (Const 300)))) ]
=> ([("One",500,500),("Two",400,400)],
    [[DrawRect 300 350 15 25 "One" "plum",
      DrawRect 300 350 15 25 "Two" "plum",
      DrawRect 10 350 20 20 "One" "blue",
      DrawRect 10 350 20 20 "Two" "blue"],

         [DrawRect 203 350 15 25 "Two" "plum",
          DrawRect 300 350 15 25 "One" "plum",
          DrawRect 107 350 20 20 "Two" "blue",
          DrawRect 10 350 20 20 "One" "blue"],

         [DrawRect 107 350 15 25 "Two" "plum",
          DrawRect 300 350 15 25 "One" "plum",
          DrawRect 203 350 20 20 "Two" "blue",
          DrawRect 10 350 20 20 "One" "blue"],

     [DrawRect 10 350 15 25 "Two" "plum",
      DrawRect 300 350 15 25 "One" "plum",
      DrawRect 300 350 20 20 "Two" "blue",
      DrawRect 10 350 20 20 "One" "blue"],

         [DrawRect 300 250 20 20 "Two" "blue",
          DrawRect 10 250 20 20 "One" "blue",
          DrawRect 10 250 15 25 "Two" "plum",
          DrawRect 300 250 15 25 "One" "plum"],

         [DrawRect 300 150 20 20 "Two" "blue",
          DrawRect 10 150 20 20 "One" "blue",
          DrawRect 10 150 15 25 "Two" "plum",
          DrawRect 300 150 15 25 "One" "plum"],

     [DrawRect 300 50 20 20 "Two" "blue",
      DrawRect 10 50 20 20 "One" "blue",
      DrawRect 10 50 15 25 "Two" "plum",
      DrawRect 300 50 15 25 "One" "plum"]])
\end{lstlisting}

\subsection{Used Hand-outs}
\label{sec:hand-outs-2-used}

The source language of the interpreter is the same as the target language of the
parser and is specified in listing \ref{lst:ast}. The target language of the
interpreter is specified in listing \ref{lst:gpx} below.

\shcodefile{src/salsa/Gpx.hs}{gpx}

\clearpage
\section{Question 3 Code Files}
\label{sec:question-3-code}

\subsection{Source Code}
\label{sec:source-3-code}

\lstinputlisting[basicstyle=\ttfamily\footnotesize, language={},%
  caption={\tt src/at\_server/at\_server.erl}, label=lst:ats]{../src/at_server/at_server.erl}

\lstinputlisting[basicstyle=\ttfamily\footnotesize, language={},%
  caption={\tt src/at\_server/at\_trans.erl}, label=lst:att]{../src/at_server/at_trans.erl}

\lstinputlisting[basicstyle=\ttfamily\footnotesize, language={},%
  caption={\tt src/at\_server/at\_extapi.erl}, label=lst:ate]{../src/at_server/at_extapi.erl}

\subsection{Test Code}
\label{sec:test-3-code}

\lstinputlisting[basicstyle=\ttfamily\footnotesize, language={},%
  caption={\tt src/at\_server/at\_server\_tests.erl}, label=lst:atst]{../src/at_server/at_server_tests.erl}

\lstinputlisting[basicstyle=\ttfamily\footnotesize, language={},%
  caption={\tt src/at\_server/at\_extapi\_tests.erl}, label=lst:atet]{../src/at_server/at_extapi_tests.erl}

\subsection{Test Output}
\label{sec:test-3-output}

\begin{lstlisting}[caption=Session output: {\tt src/at\_server/at\_server\_tests.erl}, label=lst:testoutserver]
> eunit:test(at_server, [verbose]).
======================== EUnit ========================
module 'at_server'
  module 'at_server_tests'
    at_server_tests: commit_t_competing_test...[0.007 s] ok
    at_server_tests: commit_t_abort_longrunning_test...[0.051 s] ok
    at_server_tests: commit_t_success_test...ok
    at_server_tests: update_t_failure_test...ok
    at_server_tests: update_t_success_test...ok
    at_server_tests: query_t_failure_test...ok
    at_server_tests: begin_t_test...ok
    at_server_tests: query_t_success_test...ok
    at_server_tests: doquery_failure_test...ok
    at_server_tests: doquery_success_test...ok
    [done in 0.087 s]
  [done in 0.087 s]
=======================================================
  All 10 tests passed.
ok
\end{lstlisting}

\begin{lstlisting}[caption=Session output: {\tt src/at\_server/at\_extapi\_tests.erl}, label=lst:testoutextapi]
> eunit:test(at_extapi, [verbose]).
======================== EUnit ========================
module 'at_extapi'
  module 'at_extapi_tests'
    at_extapi_tests: choice_update_test...[0.001 s] ok
    at_extapi_tests: ensure_update_ok_test...ok
    at_extapi_tests: ensure_update_retry_test...[0.202 s] ok
    at_extapi_tests: ensure_update_error_test...ok
    at_extapi_tests: try_update_error_test...ok
    at_extapi_tests: try_update_aborted_test...[0.101 s] ok
    at_extapi_tests: try_update_ok_test...[0.001 s] ok
    at_extapi_tests: abort_test...ok
    [done in 0.328 s]
  [done in 0.328 s]
=======================================================
  All 8 tests passed.
ok
\end{lstlisting}

\begin{lstlisting}[caption=Session output: {\tt
    commit\_t\_competing\_test()} (debug enabled),
  label=lst:testoutextapi, basicstyle=\ttfamily\scriptsize]
at_server_tests.erl:151:<0.3764.0>: Transaction #Ref<0.0.0.31695> aborted
at_server_tests.erl:151:<0.3764.0>: Transaction #Ref<0.0.0.31699> aborted
at_server_tests.erl:151:<0.3764.0>: Transaction #Ref<0.0.0.31704> aborted
at_server_tests.erl:151:<0.3764.0>: Transaction #Ref<0.0.0.31714> aborted
at_server_tests.erl:151:<0.3764.0>: Transaction #Ref<0.0.0.31719> aborted
at_server_tests.erl:151:<0.3764.0>: Transaction #Ref<0.0.0.31723> aborted
at_server_tests.erl:151:<0.3764.0>: Transaction #Ref<0.0.0.31728> aborted
at_server_tests.erl:151:<0.3764.0>: Transaction #Ref<0.0.0.31732> aborted
at_server_tests.erl:151:<0.3764.0>: Transaction #Ref<0.0.0.31736> aborted
at_server_tests.erl:151:<0.3764.0>: Transaction #Ref<0.0.0.31740> aborted
at_server_tests.erl:151:<0.3764.0>: Transaction #Ref<0.0.0.31744> aborted
at_server_tests.erl:151:<0.3764.0>: Transaction #Ref<0.0.0.31748> aborted
at_server_tests.erl:151:<0.3764.0>: Transaction #Ref<0.0.0.31758> aborted
at_server_tests.erl:151:<0.3764.0>: Transaction #Ref<0.0.0.31762> aborted
at_server_tests.erl:151:<0.3764.0>: Transaction #Ref<0.0.0.31768> aborted
at_server_tests.erl:151:<0.3764.0>: Transaction #Ref<0.0.0.31772> aborted
at_server_tests.erl:151:<0.3764.0>: Transaction #Ref<0.0.0.31776> aborted
at_server_tests.erl:151:<0.3764.0>: Transaction #Ref<0.0.0.31780> aborted
at_server_tests.erl:151:<0.3764.0>: Transaction #Ref<0.0.0.31784> aborted
at_server_tests.erl:151:<0.3764.0>: Transaction #Ref<0.0.0.31788> aborted
at_server_tests.erl:151:<0.3764.0>: Transaction #Ref<0.0.0.31790> aborted
at_server_tests.erl:151:<0.3764.0>: Transaction #Ref<0.0.0.31792> aborted
at_server_tests.erl:151:<0.3764.0>: Transaction #Ref<0.0.0.31794> aborted
at_server_tests.erl:151:<0.3764.0>: Transaction #Ref<0.0.0.31796> aborted
at_server_tests.erl:151:<0.3764.0>: Transaction #Ref<0.0.0.31800> aborted
at_server_tests.erl:151:<0.3764.0>: Transaction #Ref<0.0.0.31806> aborted
at_server_tests.erl:151:<0.3764.0>: Transaction #Ref<0.0.0.31810> aborted
at_server_tests.erl:151:<0.3764.0>: Transaction #Ref<0.0.0.31814> aborted
at_server_tests.erl:151:<0.3764.0>: Transaction #Ref<0.0.0.31818> aborted
at_server_tests.erl:151:<0.3764.0>: Transaction #Ref<0.0.0.31822> aborted
at_server_tests.erl:151:<0.3764.0>: Transaction #Ref<0.0.0.31826> aborted
at_server_tests.erl:151:<0.3764.0>: Transaction #Ref<0.0.0.31830> aborted
at_server_tests.erl:151:<0.3764.0>: Transaction #Ref<0.0.0.31832> aborted
at_server_tests.erl:151:<0.3764.0>: Transaction #Ref<0.0.0.31834> aborted
at_server_tests.erl:151:<0.3764.0>: Transaction #Ref<0.0.0.31836> aborted
at_server_tests.erl:151:<0.3764.0>: Transaction #Ref<0.0.0.31840> aborted
at_server_tests.erl:151:<0.3764.0>: Transaction #Ref<0.0.0.31844> aborted
at_server_tests.erl:151:<0.3764.0>: Transaction #Ref<0.0.0.31848> aborted
at_server_tests.erl:151:<0.3764.0>: Transaction #Ref<0.0.0.31852> aborted
at_server_tests.erl:151:<0.3764.0>: Transaction #Ref<0.0.0.31856> aborted
at_server_tests.erl:151:<0.3764.0>: Transaction #Ref<0.0.0.31860> aborted
at_server_tests.erl:151:<0.3764.0>: Transaction #Ref<0.0.0.31864> aborted
at_server_tests.erl:151:<0.3764.0>: Transaction #Ref<0.0.0.31868> aborted
at_server_tests.erl:151:<0.3764.0>: Transaction #Ref<0.0.0.31872> aborted
at_server_tests.erl:151:<0.3764.0>: Transaction #Ref<0.0.0.31874> aborted
at_server_tests.erl:151:<0.3764.0>: Transaction #Ref<0.0.0.31876> aborted
at_server_tests.erl:151:<0.3764.0>: Transaction #Ref<0.0.0.31878> aborted
at_server_tests.erl:151:<0.3764.0>: Transaction #Ref<0.0.0.31882> aborted
at_server_tests.erl:154:<0.3764.0>: ----> Transaction #Ref<0.0.0.31680> committed
at_server_tests.erl:151:<0.3764.0>: Transaction #Ref<0.0.0.31682> aborted
at_server_tests.erl:151:<0.3764.0>: Transaction #Ref<0.0.0.31684> aborted
at_server_tests.erl:151:<0.3764.0>: Transaction #Ref<0.0.0.31686> aborted
at_server_tests.erl:151:<0.3764.0>: Transaction #Ref<0.0.0.31688> aborted
at_server_tests.erl:151:<0.3764.0>: Transaction #Ref<0.0.0.31691> aborted
at_server_tests.erl:151:<0.3764.0>: Transaction #Ref<0.0.0.31693> aborted
at_server_tests.erl:151:<0.3764.0>: Transaction #Ref<0.0.0.31697> aborted
at_server_tests.erl:151:<0.3764.0>: Transaction #Ref<0.0.0.31701> aborted
at_server_tests.erl:151:<0.3764.0>: Transaction #Ref<0.0.0.31706> aborted
at_server_tests.erl:151:<0.3764.0>: Transaction #Ref<0.0.0.31708> aborted
at_server_tests.erl:151:<0.3764.0>: Transaction #Ref<0.0.0.31710> aborted
at_server_tests.erl:151:<0.3764.0>: Transaction #Ref<0.0.0.31712> aborted
at_server_tests.erl:151:<0.3764.0>: Transaction #Ref<0.0.0.31717> aborted
at_server_tests.erl:151:<0.3764.0>: Transaction #Ref<0.0.0.31721> aborted
at_server_tests.erl:151:<0.3764.0>: Transaction #Ref<0.0.0.31725> aborted
at_server_tests.erl:151:<0.3764.0>: Transaction #Ref<0.0.0.31730> aborted
at_server_tests.erl:151:<0.3764.0>: Transaction #Ref<0.0.0.31734> aborted
at_server_tests.erl:151:<0.3764.0>: Transaction #Ref<0.0.0.31738> aborted
at_server_tests.erl:151:<0.3764.0>: Transaction #Ref<0.0.0.31742> aborted
at_server_tests.erl:151:<0.3764.0>: Transaction #Ref<0.0.0.31746> aborted
at_server_tests.erl:151:<0.3764.0>: Transaction #Ref<0.0.0.31750> aborted
at_server_tests.erl:151:<0.3764.0>: Transaction #Ref<0.0.0.31752> aborted
at_server_tests.erl:151:<0.3764.0>: Transaction #Ref<0.0.0.31754> aborted
at_server_tests.erl:151:<0.3764.0>: Transaction #Ref<0.0.0.31756> aborted
at_server_tests.erl:151:<0.3764.0>: Transaction #Ref<0.0.0.31760> aborted
at_server_tests.erl:151:<0.3764.0>: Transaction #Ref<0.0.0.31764> aborted
at_server_tests.erl:151:<0.3764.0>: Transaction #Ref<0.0.0.31766> aborted
at_server_tests.erl:151:<0.3764.0>: Transaction #Ref<0.0.0.31770> aborted
at_server_tests.erl:151:<0.3764.0>: Transaction #Ref<0.0.0.31774> aborted
at_server_tests.erl:151:<0.3764.0>: Transaction #Ref<0.0.0.31778> aborted
at_server_tests.erl:151:<0.3764.0>: Transaction #Ref<0.0.0.31782> aborted
at_server_tests.erl:151:<0.3764.0>: Transaction #Ref<0.0.0.31786> aborted
at_server_tests.erl:151:<0.3764.0>: Transaction #Ref<0.0.0.31798> aborted
at_server_tests.erl:151:<0.3764.0>: Transaction #Ref<0.0.0.31802> aborted
at_server_tests.erl:151:<0.3764.0>: Transaction #Ref<0.0.0.31804> aborted
at_server_tests.erl:151:<0.3764.0>: Transaction #Ref<0.0.0.31808> aborted
at_server_tests.erl:151:<0.3764.0>: Transaction #Ref<0.0.0.31812> aborted
at_server_tests.erl:151:<0.3764.0>: Transaction #Ref<0.0.0.31816> aborted
at_server_tests.erl:151:<0.3764.0>: Transaction #Ref<0.0.0.31820> aborted
at_server_tests.erl:151:<0.3764.0>: Transaction #Ref<0.0.0.31824> aborted
at_server_tests.erl:151:<0.3764.0>: Transaction #Ref<0.0.0.31828> aborted
at_server_tests.erl:151:<0.3764.0>: Transaction #Ref<0.0.0.31838> aborted
at_server_tests.erl:151:<0.3764.0>: Transaction #Ref<0.0.0.31842> aborted
at_server_tests.erl:151:<0.3764.0>: Transaction #Ref<0.0.0.31846> aborted
at_server_tests.erl:151:<0.3764.0>: Transaction #Ref<0.0.0.31850> aborted
at_server_tests.erl:151:<0.3764.0>: Transaction #Ref<0.0.0.31854> aborted
at_server_tests.erl:151:<0.3764.0>: Transaction #Ref<0.0.0.31858> aborted
at_server_tests.erl:151:<0.3764.0>: Transaction #Ref<0.0.0.31862> aborted
at_server_tests.erl:151:<0.3764.0>: Transaction #Ref<0.0.0.31866> aborted
at_server_tests.erl:151:<0.3764.0>: Transaction #Ref<0.0.0.31870> aborted
at_server_tests.erl:151:<0.3764.0>: Transaction #Ref<0.0.0.31880> aborted
\end{lstlisting}

\clearpage
\section{Submitted File Tree}
\label{sec:submitted-files}

\begin{lstlisting}[caption=File tree under {\tt src/}, label=lst:filetree]
src/
|-- at_server
|   |-- at_extapi.erl
|   |-- at_extapi_tests.erl
|   |-- at_server.erl
|   |-- at_server_tests.erl
|   +-- at_trans.erl
+-- salsa
    |-- Gpx.hs
    |-- SalsaAst.hs
    |-- SalsaInterp.hs
    |-- SalsaParser.hs
    |-- SalsaParserTest.hs
    |-- SimpleParse.hs
    |-- multi.salsa
    +-- simple.salsa
\end{lstlisting}
\end{document}
